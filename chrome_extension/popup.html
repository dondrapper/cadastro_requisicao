<!DOCTYPE html>
<html>
<head>
    <title>Leitor de Código de Barras</title>
    <style>
        body {
            width: 320px;
            padding: 10px;
            font-family: Arial, sans-serif;
        }
        .status {
            padding: 10px;
            margin: 10px 0;
            border-radius: 4px;
        }
        .connected {
            background-color: #d4edda;
            color: #155724;
        }
        .disconnected {
            background-color: #f8d7da;
            color: #721c24;
        }
        .streamlit-status {
            background-color: #cce5ff;
            color: #004085;
            padding: 10px;
            margin: 10px 0;
            border-radius: 4px;
        }
        .history {
            max-height: 200px;
            overflow-y: auto;
            border: 1px solid #ddd;
            padding: 10px;
            margin-top: 10px;
        }
        .code-item {
            padding: 5px;
            border-bottom: 1px solid #eee;
        }
        .button-group {
            display: flex;
            gap: 10px;
            margin-top: 10px;
        }
        button {
            padding: 8px;
            border: none;
            border-radius: 4px;
            background-color: #4CAF50;
            color: white;
            cursor: pointer;
            flex: 1;
        }
        button:hover {
            background-color: #45a049;
        }
        button:disabled {
            background-color: #cccccc;
            cursor: not-allowed;
        }
        .mode-select {
            margin-top: 10px;
            width: 100%;
            padding: 6px;
            border-radius: 4px;
            border: 1px solid #ddd;
        }
    </style>
</head>
<body>
    <h2>Leitor de Código de Barras</h2>
    
    <div id="connection-status" class="status">Verificando conexão...</div>
    
    <div id="streamlit-status" class="streamlit-status">
        Procurando por aplicativo Streamlit...
    </div>
    
    <div class="button-group">
        <button id="test-connection">Testar Conexão</button>
        <button id="clear-history">Limpar Histórico</button>
    </div>
    
    <select id="mode-select" class="mode-select">
        <option value="auto">Modo Automático (padrão)</option>
        <option value="login">Modo Login (crachá)</option>
        <option value="barcode">Modo Requisição (código de barras)</option>
    </select>
    
    <h3>Últimos códigos lidos:</h3>
    <div id="barcode-history" class="history">
        <div class="code-item">Nenhum código lido ainda</div>
    </div>
    
    <script src="popup.js"></script>
</body>
</html>